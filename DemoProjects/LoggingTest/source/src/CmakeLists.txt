cmake_minimum_required(VERSION 3.14)

project(LoggingTest)

include_directories(${CMAKE_SOURCE_DIR}/inc
                )

# put the libs in the main bin directory for easy access from execs
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR})

set(LOGGER_LIB_FILES
    util/logger/Logger.cpp
    util/logger/LoggerStdOut.cpp
    util/logger/LoggerToFile.cpp
    )

add_library(logger SHARED ${LOGGER_LIB_FILES})
target_compile_definitions(logger PRIVATE LOGGER_LIB_EXPORT=1)

set(LOGGER_LIBRARY "logger")

add_executable(main main.cpp)
target_link_libraries(main ${LOGGER_LIBRARY} )

install (TARGETS
           logger
           RUNTIME DESTINATION ${RUNTIME_INSTALL_PATH}
           ARCHIVE DESTINATION ${LIB_INSTALL_PATH}
           LIBRARY DESTINATION ${LIB_INSTALL_PATH}
           PUBLIC_HEADER DESTINATION ${HEADER_INSTALL_PATH}
           )
		   
	   
		   